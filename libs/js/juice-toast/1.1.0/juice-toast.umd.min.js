!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.juiceToast=t()}(this,function(){return function(){const e="undefined"!=typeof window&&"undefined"!=typeof document,t={light:{bg:"#fff",color:"#111",border:"1px solid #e5e7eb"},dark:{bg:"#1f2937",color:"#fff",border:"1px solid rgba(255,255,255,.08)"}};return{_config:{},_queue:[],_showing:!1,_theme:"dark",setup(e={}){this._config=e,this._registerTypes()},addType(e,t={}){this._config[e]=t,this._registerTypes()},defineTheme(e,i={}){t[e]={...t[e]||{},...i}},setTheme(t){if(this._theme=t,!e)return;const i=document.getElementById("juice-toast-root");i&&(i.dataset.theme=t)},clear(){this._queue.length=0},destroy(){this.clear(),e&&document.getElementById("juice-toast-root")?.remove()},_registerTypes(){Object.keys(this._config).forEach(e=>{if("function"==typeof this[e]&&!this[e].__auto)return;const t=t=>this._enqueue(e,t);t.__auto=!0,this[e]=t})},_enqueue(e,t){this._queue.push({type:e,payload:t}),this._showing||this._next()},_next(){if(!this._queue.length)return void(this._showing=!1);this._showing=!0;const e=this._queue.shift();this._showToast(e.type,e.payload)},_getRoot(t){if(!e)return null;let i=document.getElementById("juice-toast-root");return i||(i=document.createElement("div"),i.id="juice-toast-root",document.body.appendChild(i)),i.dataset.position=t||"bottom",i.dataset.theme=this._theme,i},_showToast(i,o){if(!e)return;const n={...this._config[i]||{},..."object"==typeof o?o:{message:String(o)}};n.icon=n.icon??n.icon_left_top,n.iconPack=n.iconPack??n.icon_config,n.iconLink=n.iconLink??n.icon_onClick_url,n.iconAnimate=n.iconAnimate??n.icon_onClick_animate,n.position=n.position??n.toast,n.closable=n.closable??n.closeable,n.iconPosition=n.iconPosition||"left",n.compact=!!n.compact;const s=t[n.theme||this._theme]||{},c=document.createElement("div");if(c.className="juice-toast",n.size&&sizePreset[n.size]){const e=sizePreset[n.size];e.width&&(c.style.width=e.width),e.padding&&(c.style.padding=e.padding)}n.width&&(c.style.width=n.width),n.height&&(c.style.height=n.height),c.style.background=n.bg||s.bg,c.style.color=n.color||s.color,c.style.border=n.border||s.border;let a=null;n.icon&&(a=document.createElement("i"),a.className=["icon",n.iconPack||"",n.icon].join(" ").trim(),n.iconSize&&(a.style.fontSize=n.iconSize),(n.iconLink||n.iconAnimate)&&(a.classList.add("icon-clickable"),a.onclick=e=>{e.stopPropagation(),n.iconAnimate&&(a.classList.remove(n.iconAnimate),a.offsetWidth,a.classList.add(n.iconAnimate)),n.iconLink&&window.open(n.iconLink,"_blank","noopener")}));const d=document.createElement("div");if(d.className="jt-content",n.title){const e=document.createElement("div");e.className="jt-title",e.textContent=n.title,d.appendChild(e)}const l=document.createElement("div");if(l.className="jt-message",l.textContent=n.message||"",d.appendChild(l),a&&"top"===n.iconPosition?(c.classList.add("jt-icon-top"),c.appendChild(a),c.appendChild(d)):a&&"right"===n.iconPosition?(c.appendChild(d),c.appendChild(a)):(a&&c.appendChild(a),c.appendChild(d)),Array.isArray(n.actions)&&n.actions.length){const e=document.createElement("div");e.className="jt-actions",n.actions.forEach(t=>{const i=document.createElement("button");i.className="jt-action",i.textContent=t.label,i.onclick=e=>{e.stopPropagation(),t.onClick?.(e),t.closeOnClick&&(c.remove(),this._next())},e.appendChild(i)}),d.appendChild(e)}if(n.closable){const e=document.createElement("span");e.className="juice-toast-close",e.innerHTML="Ã—",e.onclick=()=>{c.remove(),this._next()},c.appendChild(e)}this._getRoot(n.position).appendChild(c),requestAnimationFrame(()=>c.classList.add("show"));const r=n.duration??2500;0!==r&&setTimeout(()=>{c.classList.remove("show"),setTimeout(()=>{c.remove(),this._next()},300)},r)}}}()});